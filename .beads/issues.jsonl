{"id":"kingmaker-1u7","title":"LLM-assisted prompt generation enhancement","description":"Add optional LLM (OpenAI/Claude) integration to generate more creative and contextual OpusClip prompts from analyzed patterns. The deterministic approach works for MVP, but LLM could improve prompt quality. Consider: API key config, fallback to deterministic, cost/quota tracking.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-28T16:39:56.456569-08:00","updated_at":"2025-12-28T16:39:56.456569-08:00"}
{"id":"kingmaker-2dh","title":"YouTube Shorts Scanner MVP - AI Vibe Coding to OpusClip Prompts","description":"Tracer bullet MVP: Scan YouTube Shorts in AI/vibe coding space, extract title/description patterns, generate OpusClip prompts for fast-follow content strategy","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-28T14:31:18.419144-08:00","updated_at":"2025-12-28T16:49:38.353319-08:00","closed_at":"2025-12-28T16:49:38.353319-08:00","comments":[{"id":10,"issue_id":"kingmaker-2dh","author":"codex-cli","text":"Impact: High\nDefine MVP acceptance criteria: given a query and max results, fetch Shorts, analyze patterns, and output N OpusClip prompts in one CLI run. Suggest explicit Shorts criteria (\u003c=60s duration) and a deterministic, non-LLM baseline for analysis so results are reproducible. Risk to call out early: YouTube Data API quota and API key handling; keep config minimal (env + flags) and ensure graceful error messaging for missing key or quota limits.","created_at":"2025-12-28T22:54:25Z"},{"id":20,"issue_id":"kingmaker-2dh","author":"codex-cli","text":"Impact: Medium\nConsider adding a simple data-capture path to the MVP: write fetched video metadata to local JSON (`--out data.json`) and allow `--input data.json` to run analyzer/prompt generation offline. This makes runs reproducible, enables deterministic tests without burning API quota, and lets you iterate on analysis/prompt logic without re-querying YouTube.","created_at":"2025-12-29T03:05:10Z"}]}
{"id":"kingmaker-2dh.1","title":"Project setup: Go module, directory structure, config","description":"Initialize Go module, create cmd/internal structure, basic config loading","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T14:31:38.058572-08:00","updated_at":"2025-12-28T15:42:24.734311-08:00","closed_at":"2025-12-28T15:42:24.734311-08:00","dependencies":[{"issue_id":"kingmaker-2dh.1","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T14:31:38.058889-08:00","created_by":"daemon"}],"comments":[{"id":1,"issue_id":"kingmaker-2dh.1","author":"mikelady","text":"[Gemini] Impact: Low. Suggest standard Go project layout: 'cmd/kingmaker' for the entry point, and 'internal/' packages for logic (e.g., 'internal/youtube', 'internal/analysis') to keep the root clean.","created_at":"2025-12-28T22:47:23Z"},{"id":11,"issue_id":"kingmaker-2dh.1","author":"codex-cli","text":"Impact: Medium\nKeep setup minimal: go module + cmd/kingmaker entrypoint + internal/{config,youtube,analyzer,prompt,cli}. Prefer stdlib config loading (env + flags) to avoid extra deps; include validation for required vars (API key, query, max results) and a small default config struct. Acceptance idea: `go test ./...` passes and `go run ./cmd/kingmaker -query \"ai vibe coding\"` prints a clear placeholder message if API key missing.","created_at":"2025-12-28T22:54:30Z"},{"id":18,"issue_id":"kingmaker-2dh.1","author":"mikelady","text":"[Gemini] Impact: Medium. For config, consider 'viper' to support file-based config (YAML) alongside env vars. For logging, use 'log/slog' for structured logging to separate operational logs from user output.","created_at":"2025-12-29T03:00:07Z"}]}
{"id":"kingmaker-2dh.10","title":"Keyword extractor: term frequency with stop word removal","description":"ExtractKeywords(texts, topN) returns []Keyword with Word, Frequency, Score. Simple TF for MVP, optional TF-IDF. TDD approach.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:00.919226-08:00","updated_at":"2025-12-28T16:04:04.784973-08:00","closed_at":"2025-12-28T16:04:04.784973-08:00","dependencies":[{"issue_id":"kingmaker-2dh.10","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:00.919535-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.10","depends_on_id":"kingmaker-2dh.7","type":"blocks","created_at":"2025-12-28T15:34:38.172725-08:00","created_by":"daemon"}]}
{"id":"kingmaker-2dh.11","title":"Shorts detection client: HEAD request URL redirect check","description":"IsShort(ctx, videoID) and CheckBatch(ctx, videoIDs). HEAD request to youtube.com/shorts/{id}, 200=Short, 303=Not Short. Uses no-redirect HTTP client. TDD approach.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:19.365962-08:00","updated_at":"2025-12-28T16:29:51.681647-08:00","closed_at":"2025-12-28T16:29:51.681647-08:00","dependencies":[{"issue_id":"kingmaker-2dh.11","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:19.366287-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.11","depends_on_id":"kingmaker-2dh.8","type":"blocks","created_at":"2025-12-28T15:34:38.317986-08:00","created_by":"daemon"}]}
{"id":"kingmaker-2dh.12","title":"YouTube API client: search.list and videos.list wrappers","description":"Search(ctx, query, maxResults) and GetVideoDetails(ctx, videoIDs). Uses google.golang.org/api/youtube/v3. Batch videos.list up to 50 IDs. Track quota (search=100, videos=1). TDD approach.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:19.542614-08:00","updated_at":"2025-12-28T16:30:28.222303-08:00","closed_at":"2025-12-28T16:30:28.222303-08:00","dependencies":[{"issue_id":"kingmaker-2dh.12","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:19.542944-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.12","depends_on_id":"kingmaker-2dh.8","type":"blocks","created_at":"2025-12-28T15:34:38.462388-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.12","depends_on_id":"kingmaker-2dh.3","type":"blocks","created_at":"2025-12-28T15:34:38.499582-08:00","created_by":"daemon"}]}
{"id":"kingmaker-2dh.13","title":"Shorts fetcher orchestrator: search + details + verify pipeline","description":"FetchShorts(ctx, query, maxResults) []Video. Orchestrates: 1) Search for short videos, 2) Get video details (batch), 3) Verify each is actually a Short via URL check, 4) Return only verified Shorts. TDD approach.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:19.710886-08:00","updated_at":"2025-12-28T16:41:29.683092-08:00","closed_at":"2025-12-28T16:41:29.683092-08:00","dependencies":[{"issue_id":"kingmaker-2dh.13","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:19.711272-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.13","depends_on_id":"kingmaker-2dh.11","type":"blocks","created_at":"2025-12-28T15:34:38.63926-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.13","depends_on_id":"kingmaker-2dh.12","type":"blocks","created_at":"2025-12-28T15:34:38.675863-08:00","created_by":"daemon"}]}
{"id":"kingmaker-2dh.14","title":"Pattern aggregator: combine hooks, keywords, hashtags","description":"AnalyzeVideos(videos) Patterns. Patterns struct with TopHooks, TopKeywords, TopHashtags, VideoCount. Aggregates output from hook and keyword extractors. TDD approach.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:19.881405-08:00","updated_at":"2025-12-28T16:29:51.645125-08:00","closed_at":"2025-12-28T16:29:51.645125-08:00","dependencies":[{"issue_id":"kingmaker-2dh.14","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:19.881721-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.14","depends_on_id":"kingmaker-2dh.9","type":"blocks","created_at":"2025-12-28T15:34:38.82699-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.14","depends_on_id":"kingmaker-2dh.10","type":"blocks","created_at":"2025-12-28T15:34:38.861283-08:00","created_by":"daemon"}]}
{"id":"kingmaker-2dh.2","title":"YouTube client: Fetch Shorts by search query","description":"YouTube Data API v3 client to search for Shorts. TDD: Write failing tests first, then implement.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T14:31:38.223806-08:00","updated_at":"2025-12-28T15:33:44.08877-08:00","closed_at":"2025-12-28T15:33:44.08877-08:00","dependencies":[{"issue_id":"kingmaker-2dh.2","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T14:31:38.224126-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.2","depends_on_id":"kingmaker-2dh.1","type":"blocks","created_at":"2025-12-28T14:35:18.069739-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.2","depends_on_id":"kingmaker-2dh.3","type":"blocks","created_at":"2025-12-28T14:35:18.106931-08:00","created_by":"daemon"}],"comments":[{"id":2,"issue_id":"kingmaker-2dh.2","author":"mikelady","text":"[Gemini] Impact: High. Recommend using the official 'google.golang.org/api/youtube/v3' library. Note that the API does not have a strictly 'Shorts-only' filter; use 'videoDuration=short' and consider client-side validation. Be aware that 'Search:list' costs 100 quota units per call, so implement caching or strict rate limiting.","created_at":"2025-12-28T22:47:23Z"},{"id":6,"issue_id":"kingmaker-2dh.2","author":"claude-opus-4.5","text":"[HIGH IMPACT] Critical API limitation discovered:\n\nThe YouTube Data API v3 has NO native filter for Shorts. The 'videoDuration=short' parameter filters for videos \u003c4 minutes, NOT Shorts specifically.\n\n**Required workaround:**\n1. Search with videoDuration=short to get candidates\n2. Verify each video is a Short via URL redirect check: HEAD request to https://www.youtube.com/shorts/{video_id} - 200=Short, 303=Not Short\n3. Disable auto-redirect following in HTTP client\n\n**Quota considerations (critical):**\n- search.list = 100 units per call\n- videos.list = 1 unit per call  \n- Daily limit = 10,000 units\n- URL redirect check = 0 units (direct HTTP, not API)\n\n**Recommendation:** Batch video.list calls (up to 50 IDs per request) and cache Shorts detection results.\n\nSource: Google Issue Tracker #232112727 confirms no official Shorts filter exists.","created_at":"2025-12-28T22:53:22Z"},{"id":12,"issue_id":"kingmaker-2dh.2","author":"codex-cli","text":"Impact: High\nYouTube Data API v3: use `search.list` with `type=video` + `videoDuration=short` to seed results, then `videos.list` to fetch contentDetails + statistics for precise Shorts filtering (ISO 8601 duration \u003c= 60s). Capture snippet.title/description/channel/publishedAt and stats.viewCount. Add HTTP client with timeout + context, and guard against missing fields. Tests: stub HTTP via interface and use fixture JSON for both endpoints to assert query params and filtering behavior.","created_at":"2025-12-28T22:54:36Z"},{"id":19,"issue_id":"kingmaker-2dh.2","author":"mikelady","text":"[Gemini] Impact: Medium. Testing strategy: Use 'testify/assert' for readability and 'mockery' for generating mocks. For integration tests, consider 'go-vcr' to record/replay YouTube API responses, avoiding quota usage during CI.","created_at":"2025-12-29T03:00:07Z"},{"id":21,"issue_id":"kingmaker-2dh.2","author":"codex-cli","text":"Impact: Medium\nAdd query-scoping flags like `--since` (publishedAfter) and `--order viewCount|date` to bias toward recent/high-performing Shorts. Implement pagination with pageToken until `maxResults` or a `maxPages` cap to control quota, and use the `fields` param to trim response payloads for faster tests.","created_at":"2025-12-29T03:05:15Z"}]}
{"id":"kingmaker-2dh.3","title":"Video model: Data structures for video metadata","description":"Define Video struct with Title, Description, ViewCount, Channel, PublishedAt. TDD approach.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T14:31:38.393538-08:00","updated_at":"2025-12-28T15:42:24.77-08:00","closed_at":"2025-12-28T15:42:24.77-08:00","dependencies":[{"issue_id":"kingmaker-2dh.3","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T14:31:38.393858-08:00","created_by":"daemon"}],"comments":[{"id":3,"issue_id":"kingmaker-2dh.3","author":"mikelady","text":"[Gemini] Impact: Medium. Ensure the struct includes 'Duration' (ISO 8601) and potentially logic to parse it. You may need to fetch 'contentDetails' (extra quota cost) to get accurate duration to confirm it is a Short (\u003c 60s).","created_at":"2025-12-28T22:47:23Z"},{"id":9,"issue_id":"kingmaker-2dh.3","author":"claude-opus-4.5","text":"[LOW IMPACT] Consider adding field for Shorts verification status:\n\nGiven the YouTube API has no native Shorts indicator, the Video model should track whether the URL redirect check has been performed:\n\ntype Video struct {\n    // ... existing fields ...\n    IsVerifiedShort bool      // True if URL check confirmed this is a Short\n    VerifiedAt      time.Time // When the check was performed\n}\n\nAlso note: Shorts max length changed from 60s to 3 minutes (Oct 2024), so duration-based detection is unreliable. The IsShort() method should use IsVerifiedShort rather than duration parsing.","created_at":"2025-12-28T22:53:23Z"},{"id":13,"issue_id":"kingmaker-2dh.3","author":"codex-cli","text":"Impact: Low\nConsider adding optional fields alongside the required ones: ID and URL (useful for debugging/output), Duration (string or time.Duration) if the client already parses it. Keep types strict: PublishedAt time.Time, ViewCount int64 (parsed from API string), Channel string. Tests can assert zero-values on missing API fields and correct parsing of RFC3339 timestamps.","created_at":"2025-12-28T22:54:40Z"}]}
{"id":"kingmaker-2dh.4","title":"Content analyzer: Extract patterns from titles/descriptions","description":"Analyze video metadata to identify trending hooks, keywords, and patterns. TDD approach.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T14:31:38.556523-08:00","updated_at":"2025-12-28T15:33:44.217477-08:00","closed_at":"2025-12-28T15:33:44.217477-08:00","dependencies":[{"issue_id":"kingmaker-2dh.4","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T14:31:38.556848-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.4","depends_on_id":"kingmaker-2dh.3","type":"blocks","created_at":"2025-12-28T14:35:18.235844-08:00","created_by":"daemon"}],"comments":[{"id":4,"issue_id":"kingmaker-2dh.4","author":"mikelady","text":"[Gemini] Impact: High. Clarify scope of 'analysis'. Metadata (title/desc) alone may not reveal 'hooks' or 'trends' effectively compared to transcript analysis. If using simple keyword frequency/regex on titles, document this limitation.","created_at":"2025-12-28T22:47:31Z"},{"id":8,"issue_id":"kingmaker-2dh.4","author":"claude-opus-4.5","text":"[MEDIUM IMPACT] Specific NLP techniques for Go MVP (no ML dependencies):\n\n**Hook extraction patterns:**\n- Question hooks: Who/What/When/Where/Why/How at start\n- Numerical hooks: regex for '[0-9]+ (ways|tips|tricks|mistakes)'\n- Power words: maintain dictionary (Secret, Ultimate, Hack, Shocking)\n- Curiosity gaps: 'You won't believe', 'The secret to'\n- First 45-50 chars = mobile truncation point (critical zone)\n\n**Keyword extraction algorithms:**\n- TF-IDF: Compare term importance across video corpus\n- RAKE: github.com/afjoseph/RAKE.Go (keyphrase extraction, no training)\n- N-grams: Bigram/trigram frequency for recurring phrases\n\n**Go libraries:**\n- jdkato/prose: Tokenization, POS tagging\n- james-bowman/nlp: TF-IDF, stop words, stemming\n\n**Hashtag patterns:**\n- Extract with regex (#\\w+)\n- First 3 hashtags appear above YouTube title\n- Optimal: 3-8 hashtags mixing broad + niche\n\n**Output structure needed for prompt generator:**\n- Ranked hooks, keywords, hashtags\n- Frequency counts and co-occurrences","created_at":"2025-12-28T22:53:23Z"},{"id":14,"issue_id":"kingmaker-2dh.4","author":"codex-cli","text":"Impact: Medium\nAim for deterministic, lightweight heuristics: tokenize titles/descriptions, normalize case, strip punctuation, remove stopwords, and extract hashtags + question hooks (\"how\", \"why\", \"what\"). Output a small Patterns struct (TopKeywords, Hooks, Hashtags) with frequency counts. Tests: given a small video fixture set, assert top N keywords and hooks are stable.","created_at":"2025-12-28T22:54:46Z"},{"id":22,"issue_id":"kingmaker-2dh.4","author":"codex-cli","text":"Impact: Medium\nWeight keyword/hook counts by viewCount and recency (e.g., views/day) so patterns reflect what is trending, not just frequent text. Also dedupe tokens per video (count once per video) to avoid long descriptions dominating, and optionally cap per-channel contribution to reduce single-creator bias.","created_at":"2025-12-29T03:05:21Z"}]}
{"id":"kingmaker-2dh.5","title":"Prompt generator: Create OpusClip prompts","description":"Generate OpusClip-compatible prompts based on analyzed patterns. TDD approach.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T14:31:38.723999-08:00","updated_at":"2025-12-28T16:41:29.648733-08:00","closed_at":"2025-12-28T16:41:29.648733-08:00","dependencies":[{"issue_id":"kingmaker-2dh.5","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T14:31:38.724325-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.5","depends_on_id":"kingmaker-2dh.14","type":"blocks","created_at":"2025-12-28T15:34:57.083531-08:00","created_by":"daemon"}],"comments":[{"id":5,"issue_id":"kingmaker-2dh.5","author":"mikelady","text":"[Gemini] Impact: Medium. Verify the specific OpusClip API/Input format targeted here. Ensure the generated 'prompts' match the expected schema (e.g., simple text vs structured JSON vs video URL + instructions).","created_at":"2025-12-28T22:47:31Z"},{"id":7,"issue_id":"kingmaker-2dh.5","author":"claude-opus-4.5","text":"[MEDIUM IMPACT] OpusClip has two distinct AI models with different prompt formats:\n\n**ClipBasic:** Requires keywords present in video transcript\n**ClipAnything:** Accepts natural language prompts (more flexible)\n\n**Recommendation:** Target ClipAnything's customPrompt format.\n\n**Effective prompt formula:** Subject + Action + Setting + Emotion/Sentiment\n\n**Good examples:**\n- 'Find moments where the creator says I built this in X minutes while showing rapid AI-assisted coding'\n- 'Clip exciting reactions with keywords cursor, claude, or copilot'\n\n**Avoid:**\n- Vague descriptions ('Create videos', 'For Instagram')\n- Exclusion language ('Don't include...')\n- Non-English prompts\n- Length control via prompt (use API params instead)\n\n**Viral score factors to target:** Hook, Flow, Value, Trend\n\nSource: OpusClip ClipAnything Prompt Manual","created_at":"2025-12-28T22:53:22Z"},{"id":15,"issue_id":"kingmaker-2dh.5","author":"codex-cli","text":"Impact: Medium\nDefine a prompt schema early so output stays consistent. Example: include goal (fast-follow Shorts), top hooks, top keywords, and a suggested opening line. Ensure max length per prompt (e.g., 280-500 chars) and deterministic ordering (by frequency). Tests: snapshot/golden string for a fixed Patterns input; verify fallback behavior when Patterns is empty.","created_at":"2025-12-28T22:54:53Z"}]}
{"id":"kingmaker-2dh.6","title":"CLI output: Display prompts to user","description":"Format and display generated prompts. Simple stdout for MVP.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T14:31:38.897223-08:00","updated_at":"2025-12-28T16:48:54.818316-08:00","closed_at":"2025-12-28T16:48:54.818316-08:00","dependencies":[{"issue_id":"kingmaker-2dh.6","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T14:31:38.897546-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.6","depends_on_id":"kingmaker-2dh.5","type":"blocks","created_at":"2025-12-28T14:35:18.496815-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.6","depends_on_id":"kingmaker-2dh.13","type":"blocks","created_at":"2025-12-28T15:34:57.225173-08:00","created_by":"daemon"}],"comments":[{"id":16,"issue_id":"kingmaker-2dh.6","author":"codex-cli","text":"Impact: Low\nKeep stdout readable for MVP: numbered prompts separated by a clear delimiter and a final summary line (count). Consider an optional `--json` flag for downstream automation, but default to plain text. Tests can assert exact formatting for a small prompt list and an empty list.","created_at":"2025-12-28T22:54:58Z"},{"id":17,"issue_id":"kingmaker-2dh.6","author":"mikelady","text":"[Gemini] Impact: Low. Consider using 'pterm' for rich output (tables, progress bars) and 'cobra' for CLI structure. Ensure a '--json' flag is supported for piping output to other tools.","created_at":"2025-12-29T03:00:07Z"}]}
{"id":"kingmaker-2dh.7","title":"Text processing utilities: tokenizer, stop words, hashtag extraction","description":"Pure string functions with no dependencies. Tokenize(text), RemoveStopWords(tokens), ExtractHashtags(text), NGrams(tokens, n), NormalizeText(text). TDD approach.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:00.441188-08:00","updated_at":"2025-12-28T15:42:24.80328-08:00","closed_at":"2025-12-28T15:42:24.80328-08:00","dependencies":[{"issue_id":"kingmaker-2dh.7","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:00.441517-08:00","created_by":"daemon"}]}
{"id":"kingmaker-2dh.8","title":"HTTP client foundation: timeouts, interfaces, no-redirect client","description":"HTTPClient interface for mocking. NewHTTPClient(timeout) and NewNoRedirectClient(timeout) for Shorts detection. TDD approach.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:00.594202-08:00","updated_at":"2025-12-28T16:04:04.709462-08:00","closed_at":"2025-12-28T16:04:04.709462-08:00","dependencies":[{"issue_id":"kingmaker-2dh.8","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:00.594553-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.8","depends_on_id":"kingmaker-2dh.1","type":"blocks","created_at":"2025-12-28T15:34:37.885446-08:00","created_by":"daemon"}]}
{"id":"kingmaker-2dh.9","title":"Hook extractor: question, numerical, power word patterns","description":"ExtractHooks(titles) returns []Hook with Type (Question/Numerical/PowerWord/CuriosityGap) and Frequency. Regex patterns for 'Who/What/When/Where/Why/How', '[0-9]+ ways/tips/tricks', power word dictionary. TDD approach.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:00.7572-08:00","updated_at":"2025-12-28T16:04:04.746665-08:00","closed_at":"2025-12-28T16:04:04.746665-08:00","dependencies":[{"issue_id":"kingmaker-2dh.9","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:00.757541-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.9","depends_on_id":"kingmaker-2dh.7","type":"blocks","created_at":"2025-12-28T15:34:38.027562-08:00","created_by":"daemon"}]}
{"id":"kingmaker-91w","title":"OpusClip Create Default prompt generator for vibe coding niche","description":"Analyze best-performing YouTube videos to generate OpusClip 'create default' prompts for video titles and descriptions. Tracer bullet MVP with TDD approach.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-28T18:39:24.563864-08:00","updated_at":"2025-12-28T18:39:24.563864-08:00","comments":[{"id":28,"issue_id":"kingmaker-91w","author":"mikelady","text":"[Claude Opus 4.5] **HIGH IMPACT - Architecture Simplification**: After deep codebase analysis, recommend consolidating the plan: (1) EXTEND existing packages rather than creating new ones - analyzer already has hooks/keywords/hashtags extraction, (2) The only truly NEW packages needed are: `internal/openai` (LLM client) and `internal/metadataprompt` (create-default generator), (3) TitleAnalyzer can be additions to existing `analyzer.Patterns` struct (add TitleMetrics field), (4) YouTube SearchAll can be Search() with configurable options. This reduces from 6 tasks to effectively 4 implementation units with better code cohesion.","created_at":"2025-12-29T03:08:33Z"},{"id":29,"issue_id":"kingmaker-91w","author":"mikelady","text":"**Task Restructure (Dec 28)**: Reopened 91w.1, 91w.2, 91w.6 (were marked closed but code never implemented). Refactored 91w.3 to extend analyzer instead of new package. Refactored 91w.9 to make Search() configurable. Added dependency graph for proper parallelization. Wave 1 (parallel): 91w.1, 91w.3, 91w.4, 91w.9. Wave 2: 91w.2, 91w.5. Wave 3: 91w.6. Wave 4: 91w.7. Wave 5: 91w.8.","created_at":"2025-12-29T03:14:08Z"},{"id":30,"issue_id":"kingmaker-91w","author":"mikelady","text":"**Correction (Dec 28)**: Re-closed 91w.1, 91w.2, 91w.6 - YouTube API already orders by viewCount, so ranking/topfetcher are built-in. Simplified pipeline: SearchWithDuration → Analyze → OpenAI → MetadataPrompt. Remaining Wave 1 (parallel): 91w.3, 91w.4, 91w.9.","created_at":"2025-12-29T03:17:13Z"}]}
{"id":"kingmaker-91w.1","title":"Extend model.Video with PerformanceScore method","description":"TDD: Add PerformanceScore() method combining views and engagement. RED: Write test for score calculation. GREEN: Implement method.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T18:42:17.853562-08:00","updated_at":"2025-12-28T19:17:02.201938-08:00","closed_at":"2025-12-28T19:17:02.201938-08:00","dependencies":[{"issue_id":"kingmaker-91w.1","depends_on_id":"kingmaker-91w","type":"parent-child","created_at":"2025-12-28T18:42:17.853924-08:00","created_by":"daemon"}]}
{"id":"kingmaker-91w.2","title":"Create ranker package for performance ranking","description":"TDD: Create internal/ranker with RankByPerformance. RED: Tests for sorting, TopN, MinViews filtering. GREEN: Implement ranker.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T18:42:18.015708-08:00","updated_at":"2025-12-28T19:17:02.327869-08:00","closed_at":"2025-12-28T19:17:02.327869-08:00","dependencies":[{"issue_id":"kingmaker-91w.2","depends_on_id":"kingmaker-91w","type":"parent-child","created_at":"2025-12-28T18:42:18.016043-08:00","created_by":"daemon"},{"issue_id":"kingmaker-91w.2","depends_on_id":"kingmaker-91w.1","type":"blocks","created_at":"2025-12-28T19:13:56.982929-08:00","created_by":"daemon"}]}
{"id":"kingmaker-91w.3","title":"Extend analyzer with TitleMetrics struct","description":"TDD: EXTEND existing analyzer package (not new titleanalyzer). Add TitleMetrics struct to Patterns with: avg title length (chars/words), min/max length, hook density, common patterns. RED: Tests for title metrics extraction. GREEN: Implement in analyzer.go.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T18:42:18.184997-08:00","updated_at":"2025-12-28T19:45:44.335877-08:00","closed_at":"2025-12-28T19:45:44.335877-08:00","dependencies":[{"issue_id":"kingmaker-91w.3","depends_on_id":"kingmaker-91w","type":"parent-child","created_at":"2025-12-28T18:42:18.185324-08:00","created_by":"daemon"}],"comments":[{"id":24,"issue_id":"kingmaker-91w.3","author":"mikelady","text":"[Claude Opus 4.5] **HIGH IMPACT**: Consider EXTENDING existing `analyzer` package instead of creating new `titleanalyzer`. The codebase already has: (1) `hooks.ExtractHooks()` - 4 hook types from titles, (2) `keywords.ExtractKeywords()` - TF-scored keywords, (3) `analyzer.AnalyzeVideos()` - orchestrates all extraction. What's actually MISSING for titles: (a) average title length of top performers, (b) optimal character range, (c) title formula detection ('I [verb] X in Y [time]'). Suggest: Add `TitleMetrics` struct to existing `Patterns` output rather than new package. Less code, better cohesion.","created_at":"2025-12-29T03:08:19Z"},{"id":32,"issue_id":"kingmaker-91w.3","author":"mikelady","text":"**Wave 1 Progress**: Agent context exhausted before any code written. Task still needs TDD tests + implementation.","created_at":"2025-12-29T03:31:02Z"}]}
{"id":"kingmaker-91w.4","title":"Add OpenAI client for LLM-powered analysis","description":"TDD: Create internal/openai client wrapper. RED: Test API call structure, error handling. GREEN: Implement client with ChatCompletion.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T18:42:18.35413-08:00","updated_at":"2025-12-28T19:40:44.127245-08:00","closed_at":"2025-12-28T19:40:44.127245-08:00","dependencies":[{"issue_id":"kingmaker-91w.4","depends_on_id":"kingmaker-91w","type":"parent-child","created_at":"2025-12-28T18:42:18.354512-08:00","created_by":"daemon"}],"comments":[{"id":25,"issue_id":"kingmaker-91w.4","author":"mikelady","text":"[Claude Opus 4.5] **MEDIUM IMPACT**: Follow existing patterns from `youtube.Client`: (1) Interface `OpenAIClient` with `Complete(ctx, prompt) (string, error)`, (2) `realOpenAIService` wrapper for actual API, (3) Token tracking similar to `quotaUsed` atomic counter, (4) Mock struct pattern for tests (no external mocking libs). Also consider: support model selection (gpt-4o, gpt-4o-mini) via config, handle rate limits with exponential backoff per AGENTS.md Rule 7.","created_at":"2025-12-29T03:08:19Z"},{"id":31,"issue_id":"kingmaker-91w.4","author":"mikelady","text":"**Wave 1 Progress**: TDD RED phase complete - 11 comprehensive tests written in openai_test.go covering: NewClient, Complete, error handling, token tracking, thread safety. GREEN phase (implementation) interrupted by context exhaustion.","created_at":"2025-12-29T03:31:02Z"}]}
{"id":"kingmaker-91w.5","title":"Create metadataprompt generator with LLM enhancement","description":"TDD: Generate OpusClip create-default prompts. Send extracted patterns to OpenAI to synthesize an optimized prompt for generating viral titles/descriptions. RED: Test prompt structure. GREEN: Implement with OpenAI call.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T18:42:18.524782-08:00","updated_at":"2025-12-28T19:47:39.632195-08:00","closed_at":"2025-12-28T19:47:39.632195-08:00","dependencies":[{"issue_id":"kingmaker-91w.5","depends_on_id":"kingmaker-91w","type":"parent-child","created_at":"2025-12-28T18:42:18.525098-08:00","created_by":"daemon"},{"issue_id":"kingmaker-91w.5","depends_on_id":"kingmaker-91w.4","type":"blocks","created_at":"2025-12-28T19:13:57.433589-08:00","created_by":"daemon"},{"issue_id":"kingmaker-91w.5","depends_on_id":"kingmaker-91w.3","type":"blocks","created_at":"2025-12-28T19:13:57.574257-08:00","created_by":"daemon"}],"comments":[{"id":26,"issue_id":"kingmaker-91w.5","author":"mikelady","text":"[Claude Opus 4.5] **HIGH IMPACT**: Key insight - current `prompt.Generate()` creates prompts for FINDING CLIPS. This new generator creates prompts for CREATING METADATA (titles/descriptions). Fundamentally different outputs. Suggested LLM prompt structure: 'Here are {N} top-performing video titles in {niche} with {avg_views} average views. Common patterns: {hooks}, Keywords: {keywords}, Hashtags: {hashtags}. Create an OpusClip create-default prompt that will generate viral-worthy titles and descriptions following these proven patterns.' Output should be a single optimized prompt string, not multiple prompts.","created_at":"2025-12-29T03:08:19Z"}]}
{"id":"kingmaker-91w.6","title":"Create topfetcher orchestrator","description":"TDD: Orchestrate fetch -\u003e rank -\u003e analyze pipeline. RED: Test end-to-end flow with mocks. GREEN: Implement orchestrator.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T18:42:18.69046-08:00","updated_at":"2025-12-28T19:17:02.457087-08:00","closed_at":"2025-12-28T19:17:02.457087-08:00","dependencies":[{"issue_id":"kingmaker-91w.6","depends_on_id":"kingmaker-91w","type":"parent-child","created_at":"2025-12-28T18:42:18.690805-08:00","created_by":"daemon"},{"issue_id":"kingmaker-91w.6","depends_on_id":"kingmaker-91w.2","type":"blocks","created_at":"2025-12-28T19:13:57.139075-08:00","created_by":"daemon"},{"issue_id":"kingmaker-91w.6","depends_on_id":"kingmaker-91w.9","type":"blocks","created_at":"2025-12-28T19:13:57.291652-08:00","created_by":"daemon"}]}
{"id":"kingmaker-91w.7","title":"CLI integration with --mode metadata flag","description":"TDD: Add --mode metadata, --niche flags to CLI. Wire up: SearchAll -\u003e TitleAnalyzer -\u003e OpenAI -\u003e MetadataPrompt output. RED: Test CLI flags and output format. GREEN: Integrate into main.go.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-28T18:42:18.866362-08:00","updated_at":"2025-12-28T18:57:27.308385-08:00","dependencies":[{"issue_id":"kingmaker-91w.7","depends_on_id":"kingmaker-91w","type":"parent-child","created_at":"2025-12-28T18:42:18.86668-08:00","created_by":"daemon"},{"issue_id":"kingmaker-91w.7","depends_on_id":"kingmaker-91w.5","type":"blocks","created_at":"2025-12-28T19:13:57.733336-08:00","created_by":"daemon"},{"issue_id":"kingmaker-91w.7","depends_on_id":"kingmaker-91w.9","type":"blocks","created_at":"2025-12-28T19:17:13.603894-08:00","created_by":"daemon"}],"comments":[{"id":27,"issue_id":"kingmaker-91w.7","author":"mikelady","text":"[Claude Opus 4.5] **MEDIUM IMPACT**: Simplified pipeline - no separate TitleAnalyzer needed if we extend existing analyzer. Actual flow: (1) `youtube.Search()` with configurable duration filter → top videos by viewCount, (2) `analyzer.AnalyzeVideosWithOptions()` → patterns including new TitleMetrics, (3) `openai.Complete()` → synthesize create-default prompt, (4) `cli.DisplayMetadataPrompt()` → output. Suggest flags: `--mode metadata|clips` (default: clips), `--niche STRING`, `--include-all-videos` (skip shorts filter).","created_at":"2025-12-29T03:08:19Z"}]}
{"id":"kingmaker-91w.8","title":"End-to-end integration test with real APIs","description":"Test full pipeline: YouTube search -\u003e rank -\u003e analyze -\u003e OpenAI prompt generation -\u003e output. Verify with vibe coding niche.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T18:42:19.041844-08:00","updated_at":"2025-12-28T18:42:19.041844-08:00","dependencies":[{"issue_id":"kingmaker-91w.8","depends_on_id":"kingmaker-91w","type":"parent-child","created_at":"2025-12-28T18:42:19.042177-08:00","created_by":"daemon"},{"issue_id":"kingmaker-91w.8","depends_on_id":"kingmaker-91w.7","type":"blocks","created_at":"2025-12-28T19:13:58.040051-08:00","created_by":"daemon"}]}
{"id":"kingmaker-91w.9","title":"Make youtube.Search() duration-configurable","description":"TDD: Make Search() duration-configurable instead of new SearchAll(). Add SearchWithDuration(ctx, query, max, duration string) method. Duration can be 'short', 'medium', 'long', or '' (no filter). RED: Test configurable duration. GREEN: Implement, keep Search() as wrapper for backward compat.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T18:57:14.883455-08:00","updated_at":"2025-12-28T19:45:44.379072-08:00","closed_at":"2025-12-28T19:45:44.379072-08:00","dependencies":[{"issue_id":"kingmaker-91w.9","depends_on_id":"kingmaker-91w","type":"parent-child","created_at":"2025-12-28T18:57:14.883787-08:00","created_by":"daemon"}],"comments":[{"id":23,"issue_id":"kingmaker-91w.9","author":"mikelady","text":"[Claude Opus 4.5] **HIGH IMPACT**: Consider making duration filter configurable rather than creating a separate method. Current Search() has `VideoDuration(\"short\")` hardcoded. Better approach: Add `SearchOptions{IncludeDurationFilter bool}` or `Search(ctx, query, maxResults, opts)`. This keeps the API surface smaller and allows both use cases. Also note: the client already orders by `viewCount` (line 62), so top-performing videos are returned first.","created_at":"2025-12-29T03:08:19Z"},{"id":33,"issue_id":"kingmaker-91w.9","author":"mikelady","text":"**Wave 1 Progress**: Agent context exhausted before any code written. Task still needs TDD tests + implementation.","created_at":"2025-12-29T03:31:02Z"}]}

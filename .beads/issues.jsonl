{"id":"kingmaker-2dh","title":"YouTube Shorts Scanner MVP - AI Vibe Coding to OpusClip Prompts","description":"Tracer bullet MVP: Scan YouTube Shorts in AI/vibe coding space, extract title/description patterns, generate OpusClip prompts for fast-follow content strategy","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-28T14:31:18.419144-08:00","updated_at":"2025-12-28T14:31:18.419144-08:00","comments":[{"id":10,"issue_id":"kingmaker-2dh","author":"codex-cli","text":"Impact: High\nDefine MVP acceptance criteria: given a query and max results, fetch Shorts, analyze patterns, and output N OpusClip prompts in one CLI run. Suggest explicit Shorts criteria (\u003c=60s duration) and a deterministic, non-LLM baseline for analysis so results are reproducible. Risk to call out early: YouTube Data API quota and API key handling; keep config minimal (env + flags) and ensure graceful error messaging for missing key or quota limits.","created_at":"2025-12-28T22:54:25Z"}]}
{"id":"kingmaker-2dh.1","title":"Project setup: Go module, directory structure, config","description":"Initialize Go module, create cmd/internal structure, basic config loading","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-28T14:31:38.058572-08:00","updated_at":"2025-12-28T15:39:11.821998-08:00","dependencies":[{"issue_id":"kingmaker-2dh.1","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T14:31:38.058889-08:00","created_by":"daemon"}],"comments":[{"id":1,"issue_id":"kingmaker-2dh.1","author":"mikelady","text":"[Gemini] Impact: Low. Suggest standard Go project layout: 'cmd/kingmaker' for the entry point, and 'internal/' packages for logic (e.g., 'internal/youtube', 'internal/analysis') to keep the root clean.","created_at":"2025-12-28T22:47:23Z"},{"id":11,"issue_id":"kingmaker-2dh.1","author":"codex-cli","text":"Impact: Medium\nKeep setup minimal: go module + cmd/kingmaker entrypoint + internal/{config,youtube,analyzer,prompt,cli}. Prefer stdlib config loading (env + flags) to avoid extra deps; include validation for required vars (API key, query, max results) and a small default config struct. Acceptance idea: `go test ./...` passes and `go run ./cmd/kingmaker -query \"ai vibe coding\"` prints a clear placeholder message if API key missing.","created_at":"2025-12-28T22:54:30Z"}]}
{"id":"kingmaker-2dh.10","title":"Keyword extractor: term frequency with stop word removal","description":"ExtractKeywords(texts, topN) returns []Keyword with Word, Frequency, Score. Simple TF for MVP, optional TF-IDF. TDD approach.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:00.919226-08:00","updated_at":"2025-12-28T15:34:00.919226-08:00","dependencies":[{"issue_id":"kingmaker-2dh.10","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:00.919535-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.10","depends_on_id":"kingmaker-2dh.7","type":"blocks","created_at":"2025-12-28T15:34:38.172725-08:00","created_by":"daemon"}]}
{"id":"kingmaker-2dh.11","title":"Shorts detection client: HEAD request URL redirect check","description":"IsShort(ctx, videoID) and CheckBatch(ctx, videoIDs). HEAD request to youtube.com/shorts/{id}, 200=Short, 303=Not Short. Uses no-redirect HTTP client. TDD approach.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:19.365962-08:00","updated_at":"2025-12-28T15:34:19.365962-08:00","dependencies":[{"issue_id":"kingmaker-2dh.11","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:19.366287-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.11","depends_on_id":"kingmaker-2dh.8","type":"blocks","created_at":"2025-12-28T15:34:38.317986-08:00","created_by":"daemon"}]}
{"id":"kingmaker-2dh.12","title":"YouTube API client: search.list and videos.list wrappers","description":"Search(ctx, query, maxResults) and GetVideoDetails(ctx, videoIDs). Uses google.golang.org/api/youtube/v3. Batch videos.list up to 50 IDs. Track quota (search=100, videos=1). TDD approach.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:19.542614-08:00","updated_at":"2025-12-28T15:34:19.542614-08:00","dependencies":[{"issue_id":"kingmaker-2dh.12","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:19.542944-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.12","depends_on_id":"kingmaker-2dh.8","type":"blocks","created_at":"2025-12-28T15:34:38.462388-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.12","depends_on_id":"kingmaker-2dh.3","type":"blocks","created_at":"2025-12-28T15:34:38.499582-08:00","created_by":"daemon"}]}
{"id":"kingmaker-2dh.13","title":"Shorts fetcher orchestrator: search + details + verify pipeline","description":"FetchShorts(ctx, query, maxResults) []Video. Orchestrates: 1) Search for short videos, 2) Get video details (batch), 3) Verify each is actually a Short via URL check, 4) Return only verified Shorts. TDD approach.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:19.710886-08:00","updated_at":"2025-12-28T15:34:19.710886-08:00","dependencies":[{"issue_id":"kingmaker-2dh.13","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:19.711272-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.13","depends_on_id":"kingmaker-2dh.11","type":"blocks","created_at":"2025-12-28T15:34:38.63926-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.13","depends_on_id":"kingmaker-2dh.12","type":"blocks","created_at":"2025-12-28T15:34:38.675863-08:00","created_by":"daemon"}]}
{"id":"kingmaker-2dh.14","title":"Pattern aggregator: combine hooks, keywords, hashtags","description":"AnalyzeVideos(videos) Patterns. Patterns struct with TopHooks, TopKeywords, TopHashtags, VideoCount. Aggregates output from hook and keyword extractors. TDD approach.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:19.881405-08:00","updated_at":"2025-12-28T15:34:19.881405-08:00","dependencies":[{"issue_id":"kingmaker-2dh.14","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:19.881721-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.14","depends_on_id":"kingmaker-2dh.9","type":"blocks","created_at":"2025-12-28T15:34:38.82699-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.14","depends_on_id":"kingmaker-2dh.10","type":"blocks","created_at":"2025-12-28T15:34:38.861283-08:00","created_by":"daemon"}]}
{"id":"kingmaker-2dh.2","title":"YouTube client: Fetch Shorts by search query","description":"YouTube Data API v3 client to search for Shorts. TDD: Write failing tests first, then implement.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T14:31:38.223806-08:00","updated_at":"2025-12-28T15:33:44.08877-08:00","closed_at":"2025-12-28T15:33:44.08877-08:00","dependencies":[{"issue_id":"kingmaker-2dh.2","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T14:31:38.224126-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.2","depends_on_id":"kingmaker-2dh.1","type":"blocks","created_at":"2025-12-28T14:35:18.069739-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.2","depends_on_id":"kingmaker-2dh.3","type":"blocks","created_at":"2025-12-28T14:35:18.106931-08:00","created_by":"daemon"}],"comments":[{"id":2,"issue_id":"kingmaker-2dh.2","author":"mikelady","text":"[Gemini] Impact: High. Recommend using the official 'google.golang.org/api/youtube/v3' library. Note that the API does not have a strictly 'Shorts-only' filter; use 'videoDuration=short' and consider client-side validation. Be aware that 'Search:list' costs 100 quota units per call, so implement caching or strict rate limiting.","created_at":"2025-12-28T22:47:23Z"},{"id":6,"issue_id":"kingmaker-2dh.2","author":"claude-opus-4.5","text":"[HIGH IMPACT] Critical API limitation discovered:\n\nThe YouTube Data API v3 has NO native filter for Shorts. The 'videoDuration=short' parameter filters for videos \u003c4 minutes, NOT Shorts specifically.\n\n**Required workaround:**\n1. Search with videoDuration=short to get candidates\n2. Verify each video is a Short via URL redirect check: HEAD request to https://www.youtube.com/shorts/{video_id} - 200=Short, 303=Not Short\n3. Disable auto-redirect following in HTTP client\n\n**Quota considerations (critical):**\n- search.list = 100 units per call\n- videos.list = 1 unit per call  \n- Daily limit = 10,000 units\n- URL redirect check = 0 units (direct HTTP, not API)\n\n**Recommendation:** Batch video.list calls (up to 50 IDs per request) and cache Shorts detection results.\n\nSource: Google Issue Tracker #232112727 confirms no official Shorts filter exists.","created_at":"2025-12-28T22:53:22Z"},{"id":12,"issue_id":"kingmaker-2dh.2","author":"codex-cli","text":"Impact: High\nYouTube Data API v3: use `search.list` with `type=video` + `videoDuration=short` to seed results, then `videos.list` to fetch contentDetails + statistics for precise Shorts filtering (ISO 8601 duration \u003c= 60s). Capture snippet.title/description/channel/publishedAt and stats.viewCount. Add HTTP client with timeout + context, and guard against missing fields. Tests: stub HTTP via interface and use fixture JSON for both endpoints to assert query params and filtering behavior.","created_at":"2025-12-28T22:54:36Z"}]}
{"id":"kingmaker-2dh.3","title":"Video model: Data structures for video metadata","description":"Define Video struct with Title, Description, ViewCount, Channel, PublishedAt. TDD approach.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-28T14:31:38.393538-08:00","updated_at":"2025-12-28T15:39:11.858906-08:00","dependencies":[{"issue_id":"kingmaker-2dh.3","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T14:31:38.393858-08:00","created_by":"daemon"}],"comments":[{"id":3,"issue_id":"kingmaker-2dh.3","author":"mikelady","text":"[Gemini] Impact: Medium. Ensure the struct includes 'Duration' (ISO 8601) and potentially logic to parse it. You may need to fetch 'contentDetails' (extra quota cost) to get accurate duration to confirm it is a Short (\u003c 60s).","created_at":"2025-12-28T22:47:23Z"},{"id":9,"issue_id":"kingmaker-2dh.3","author":"claude-opus-4.5","text":"[LOW IMPACT] Consider adding field for Shorts verification status:\n\nGiven the YouTube API has no native Shorts indicator, the Video model should track whether the URL redirect check has been performed:\n\ntype Video struct {\n    // ... existing fields ...\n    IsVerifiedShort bool      // True if URL check confirmed this is a Short\n    VerifiedAt      time.Time // When the check was performed\n}\n\nAlso note: Shorts max length changed from 60s to 3 minutes (Oct 2024), so duration-based detection is unreliable. The IsShort() method should use IsVerifiedShort rather than duration parsing.","created_at":"2025-12-28T22:53:23Z"},{"id":13,"issue_id":"kingmaker-2dh.3","author":"codex-cli","text":"Impact: Low\nConsider adding optional fields alongside the required ones: ID and URL (useful for debugging/output), Duration (string or time.Duration) if the client already parses it. Keep types strict: PublishedAt time.Time, ViewCount int64 (parsed from API string), Channel string. Tests can assert zero-values on missing API fields and correct parsing of RFC3339 timestamps.","created_at":"2025-12-28T22:54:40Z"}]}
{"id":"kingmaker-2dh.4","title":"Content analyzer: Extract patterns from titles/descriptions","description":"Analyze video metadata to identify trending hooks, keywords, and patterns. TDD approach.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T14:31:38.556523-08:00","updated_at":"2025-12-28T15:33:44.217477-08:00","closed_at":"2025-12-28T15:33:44.217477-08:00","dependencies":[{"issue_id":"kingmaker-2dh.4","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T14:31:38.556848-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.4","depends_on_id":"kingmaker-2dh.3","type":"blocks","created_at":"2025-12-28T14:35:18.235844-08:00","created_by":"daemon"}],"comments":[{"id":4,"issue_id":"kingmaker-2dh.4","author":"mikelady","text":"[Gemini] Impact: High. Clarify scope of 'analysis'. Metadata (title/desc) alone may not reveal 'hooks' or 'trends' effectively compared to transcript analysis. If using simple keyword frequency/regex on titles, document this limitation.","created_at":"2025-12-28T22:47:31Z"},{"id":8,"issue_id":"kingmaker-2dh.4","author":"claude-opus-4.5","text":"[MEDIUM IMPACT] Specific NLP techniques for Go MVP (no ML dependencies):\n\n**Hook extraction patterns:**\n- Question hooks: Who/What/When/Where/Why/How at start\n- Numerical hooks: regex for '[0-9]+ (ways|tips|tricks|mistakes)'\n- Power words: maintain dictionary (Secret, Ultimate, Hack, Shocking)\n- Curiosity gaps: 'You won't believe', 'The secret to'\n- First 45-50 chars = mobile truncation point (critical zone)\n\n**Keyword extraction algorithms:**\n- TF-IDF: Compare term importance across video corpus\n- RAKE: github.com/afjoseph/RAKE.Go (keyphrase extraction, no training)\n- N-grams: Bigram/trigram frequency for recurring phrases\n\n**Go libraries:**\n- jdkato/prose: Tokenization, POS tagging\n- james-bowman/nlp: TF-IDF, stop words, stemming\n\n**Hashtag patterns:**\n- Extract with regex (#\\w+)\n- First 3 hashtags appear above YouTube title\n- Optimal: 3-8 hashtags mixing broad + niche\n\n**Output structure needed for prompt generator:**\n- Ranked hooks, keywords, hashtags\n- Frequency counts and co-occurrences","created_at":"2025-12-28T22:53:23Z"},{"id":14,"issue_id":"kingmaker-2dh.4","author":"codex-cli","text":"Impact: Medium\nAim for deterministic, lightweight heuristics: tokenize titles/descriptions, normalize case, strip punctuation, remove stopwords, and extract hashtags + question hooks (\"how\", \"why\", \"what\"). Output a small Patterns struct (TopKeywords, Hooks, Hashtags) with frequency counts. Tests: given a small video fixture set, assert top N keywords and hooks are stable.","created_at":"2025-12-28T22:54:46Z"}]}
{"id":"kingmaker-2dh.5","title":"Prompt generator: Create OpusClip prompts","description":"Generate OpusClip-compatible prompts based on analyzed patterns. TDD approach.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-28T14:31:38.723999-08:00","updated_at":"2025-12-28T14:31:38.723999-08:00","dependencies":[{"issue_id":"kingmaker-2dh.5","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T14:31:38.724325-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.5","depends_on_id":"kingmaker-2dh.14","type":"blocks","created_at":"2025-12-28T15:34:57.083531-08:00","created_by":"daemon"}],"comments":[{"id":5,"issue_id":"kingmaker-2dh.5","author":"mikelady","text":"[Gemini] Impact: Medium. Verify the specific OpusClip API/Input format targeted here. Ensure the generated 'prompts' match the expected schema (e.g., simple text vs structured JSON vs video URL + instructions).","created_at":"2025-12-28T22:47:31Z"},{"id":7,"issue_id":"kingmaker-2dh.5","author":"claude-opus-4.5","text":"[MEDIUM IMPACT] OpusClip has two distinct AI models with different prompt formats:\n\n**ClipBasic:** Requires keywords present in video transcript\n**ClipAnything:** Accepts natural language prompts (more flexible)\n\n**Recommendation:** Target ClipAnything's customPrompt format.\n\n**Effective prompt formula:** Subject + Action + Setting + Emotion/Sentiment\n\n**Good examples:**\n- 'Find moments where the creator says I built this in X minutes while showing rapid AI-assisted coding'\n- 'Clip exciting reactions with keywords cursor, claude, or copilot'\n\n**Avoid:**\n- Vague descriptions ('Create videos', 'For Instagram')\n- Exclusion language ('Don't include...')\n- Non-English prompts\n- Length control via prompt (use API params instead)\n\n**Viral score factors to target:** Hook, Flow, Value, Trend\n\nSource: OpusClip ClipAnything Prompt Manual","created_at":"2025-12-28T22:53:22Z"},{"id":15,"issue_id":"kingmaker-2dh.5","author":"codex-cli","text":"Impact: Medium\nDefine a prompt schema early so output stays consistent. Example: include goal (fast-follow Shorts), top hooks, top keywords, and a suggested opening line. Ensure max length per prompt (e.g., 280-500 chars) and deterministic ordering (by frequency). Tests: snapshot/golden string for a fixed Patterns input; verify fallback behavior when Patterns is empty.","created_at":"2025-12-28T22:54:53Z"}]}
{"id":"kingmaker-2dh.6","title":"CLI output: Display prompts to user","description":"Format and display generated prompts. Simple stdout for MVP.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T14:31:38.897223-08:00","updated_at":"2025-12-28T14:31:38.897223-08:00","dependencies":[{"issue_id":"kingmaker-2dh.6","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T14:31:38.897546-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.6","depends_on_id":"kingmaker-2dh.5","type":"blocks","created_at":"2025-12-28T14:35:18.496815-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.6","depends_on_id":"kingmaker-2dh.13","type":"blocks","created_at":"2025-12-28T15:34:57.225173-08:00","created_by":"daemon"}],"comments":[{"id":16,"issue_id":"kingmaker-2dh.6","author":"codex-cli","text":"Impact: Low\nKeep stdout readable for MVP: numbered prompts separated by a clear delimiter and a final summary line (count). Consider an optional `--json` flag for downstream automation, but default to plain text. Tests can assert exact formatting for a small prompt list and an empty list.","created_at":"2025-12-28T22:54:58Z"}]}
{"id":"kingmaker-2dh.7","title":"Text processing utilities: tokenizer, stop words, hashtag extraction","description":"Pure string functions with no dependencies. Tokenize(text), RemoveStopWords(tokens), ExtractHashtags(text), NGrams(tokens, n), NormalizeText(text). TDD approach.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:00.441188-08:00","updated_at":"2025-12-28T15:39:11.895329-08:00","dependencies":[{"issue_id":"kingmaker-2dh.7","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:00.441517-08:00","created_by":"daemon"}]}
{"id":"kingmaker-2dh.8","title":"HTTP client foundation: timeouts, interfaces, no-redirect client","description":"HTTPClient interface for mocking. NewHTTPClient(timeout) and NewNoRedirectClient(timeout) for Shorts detection. TDD approach.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:00.594202-08:00","updated_at":"2025-12-28T15:34:00.594202-08:00","dependencies":[{"issue_id":"kingmaker-2dh.8","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:00.594553-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.8","depends_on_id":"kingmaker-2dh.1","type":"blocks","created_at":"2025-12-28T15:34:37.885446-08:00","created_by":"daemon"}]}
{"id":"kingmaker-2dh.9","title":"Hook extractor: question, numerical, power word patterns","description":"ExtractHooks(titles) returns []Hook with Type (Question/Numerical/PowerWord/CuriosityGap) and Frequency. Regex patterns for 'Who/What/When/Where/Why/How', '[0-9]+ ways/tips/tricks', power word dictionary. TDD approach.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-28T15:34:00.7572-08:00","updated_at":"2025-12-28T15:34:00.7572-08:00","dependencies":[{"issue_id":"kingmaker-2dh.9","depends_on_id":"kingmaker-2dh","type":"parent-child","created_at":"2025-12-28T15:34:00.757541-08:00","created_by":"daemon"},{"issue_id":"kingmaker-2dh.9","depends_on_id":"kingmaker-2dh.7","type":"blocks","created_at":"2025-12-28T15:34:38.027562-08:00","created_by":"daemon"}]}
